{"version":3,"sources":["simple-text.js"],"names":["app","SimpleRevisionView","Backbone","View","extend","el","events","click #instruction-read","click #help","click #editor-button","initialize","self","this","prePageDurationStart","postPageDurationStart","userModel","UserSpecificModel","textModel","TextModelComplete","analyzer","TextAnalyzerModel","fetch","success","model","response","renderInstruction","error","console","log","$el","html","Handlebars","templates","instruction","get","renderEditor","Date","editor","MediumEditor","toolbar","placeholder","$","editableElement","document","querySelector","firstChild","selectElement","append","renderInstructionModal","openModal","analyzeText","regExText","text","getParagraphs","find","length","Materialize","toast","draftElapsed","set","pre_page_duration","pre_text","save","saveText","responseText","post_text","post_page_duration","pre_num_sentences","pre_num_clusters","pre_num_coherent_sentences","pre_num_non_coherent_sentences","pre_num_concepts","post_num_sentences","post_num_clusters","post_num_coherent_sentences","post_num_non_coherent_sentences","post_num_concepts","location","reload"],"mappings":"AAAA,GAAIA,KAAMA,OAEVA,KAAIC,mBAAqBC,SAASC,KAAKC,QAEnCC,GAAI,6BAEJC,QACIC,0BAA2B,eAC3BC,cAAe,yBACfC,uBAAwB,eAI5BC,WAAY,WAER,GAAIC,GAAOC,IACXA,MAAKC,qBAAuB,KAC5BD,KAAKE,sBAAwB,KAG7BF,KAAKG,UAAY,GAAIf,KAAIgB,kBAGzBJ,KAAKK,UAAY,GAAIjB,KAAIkB,kBAGzBN,KAAKO,SAAW,GAAInB,KAAIoB,kBAGxBR,KAAKG,UAAUM,OACXC,QAAS,SAASC,EAAOC,GACrBb,EAAKc,qBAETC,MAAO,SAASH,EAAOC,GACnBG,QAAQC,IAAIJ,OAQxBC,kBAAmB,WAEfb,KAAKiB,IAAIC,KACLC,WAAWC,UAAUC,aAAaA,YAC9BrB,KAAKG,UAAUmB,IAAI,mBAO/BC,aAAc,WAEVvB,KAAKC,qBAAuB,GAAIuB,MAGhCxB,KAAKiB,IAAIC,KAAKC,WAAWC,UAAUK,SAGnC,IAAIA,GAAS,GAAIC,cAAa,qBAC1BC,SAAS,EACTC,aAAa,GAIjBC,GAAE,qBAAqBX,KAAK,2BAG5B,IAAIY,GAAkBC,SAClBC,cAAc,qBAAqBC,UACvCR,GAAOS,cAAcJ,GAGrB9B,KAAKiB,IAAIkB,OAAO,gDAGhBnC,KAAKiB,IAAIkB,OAAOhB,WAAWC,UAAU,eAAeC,YAChDrB,KAAKG,UAAUmB,IAAI,mBAM3Bc,uBAAwB,WACpBP,EAAE,eAAeQ,aAUrBC,YAAa,WACT,GAAIvC,GAAOC,IAGXZ,KAAImD,UAAU,oBAGd,IAAIC,GAAOpD,IAAIqD,cAAczC,KAAKiB,IAAIyB,KAAK,qBAG3C,IAAIF,EAAKG,OAAS,IAEdC,YAAYC,MAAM,+BAAgC,SAC/C,CAEH,GAAIC,IAAgB,GAAItB,MAASxB,KAAKC,sBAAwB,GAM9DD,MAAKK,UAAU0C,KAAKC,kBAAqBF,EACrBG,SAAYT,IAGhCxC,KAAKiB,IAAIyB,KAAK,sBAAsBxB,KAChCC,WAAWC,UAAU,mBAGzBpB,KAAKO,SAASwC,KAAKP,KAAQA,IAC3BxC,KAAKO,SAAS2C,KAAK,MACfxC,QAAS,SAASE,GACdb,EAAKoD,YAETrC,MAAO,SAASH,EAAOC,GACnBG,QAAQC,IAAIJ,EAASwC,mBAMrCD,SAAU,YAIiB,GAAI3B,MAASxB,KAAKE,uBAAyB,GAGlEF,MAAKiB,IAAIyB,KAAK,sBAAsBxB,KAChCC,WAAWC,UAAU,kBAGzB,IAAIoB,GAAOpD,IAAIqD,cAAczC,KAAKiB,IAAIyB,KAAK,qBAG3C1C,MAAKK,UAAU0C,KAAKM,UAAab,EAC7Bc,mBAAsB,EACtBC,kBAAqBvD,KAAKO,SAASe,IAAI,gBACvCkC,iBAAoBxD,KAAKO,SAASe,IAAI,eACtCmC,2BAA8BzD,KAAKO,SAASe,IAAI,gBAChDoC,+BAAkC1D,KAAKO,SAASe,IAAI,mBACpDqC,iBAAoB3D,KAAKO,SAASe,IAAI,eACtCsC,mBAAsB5D,KAAKO,SAASe,IAAI,gBACxCuC,kBAAqB7D,KAAKO,SAASe,IAAI,eACvCwC,4BAA+B9D,KAAKO,SAASe,IAAI,gBACjDyC,gCAAmC/D,KAAKO,SAASe,IAAI,mBACrD0C,kBAAqBhE,KAAKO,SAASe,IAAI,iBAG3CtB,KAAKK,UAAU6C,KAAK,MAChBxC,QAAS,SAASE,GAEdqD,SAASC,UAEbpD,MAAO,SAASH,EAAOC,GACnBgC,YAAYC,MAAM,6CAA8C,WAMhF,GAAIzD,KAAIC","file":"simple-text.js","sourcesContent":["var app = app || {};\n\napp.SimpleRevisionView = Backbone.View.extend({\n    \n    el: '#treatment-simple-revision',\n\n    events: {\n        'click #instruction-read': 'renderEditor',\n        'click #help': 'renderInstructionModal',\n        'click #editor-button': 'analyzeText',\n        // 'click #save-text': 'saveText',\n    },\n\n    initialize: function() {\n        // Variable declaration\n        var self = this;\n        this.prePageDurationStart = null;\n        this.postPageDurationStart = null;\n        \n        // Get user data\n        this.userModel = new app.UserSpecificModel();\n\n        // Init textanalyzer model\n        this.textModel = new app.TextModelComplete();\n\n        // Init textAnalyzer model\n        this.analyzer = new app.TextAnalyzerModel();\n\n        // Fetch user data\n        this.userModel.fetch({\n            success: function(model, response) {\n                self.renderInstruction();\n            },\n            error: function(model, response) {\n                console.log(response);\n            }\n        });\n    },\n\n    /** Render instruction for \n      * this part of the experiment\n      */\n    renderInstruction: function() {\n        // Render instruction\n        this.$el.html(\n            Handlebars.templates.instruction({'instruction':\n                this.userModel.get('instruction')}));\n    },\n\n    /** \n     * When user has read the instruction he or she is able\n     * to write their text.\n     */\n    renderEditor: function() {\n        // Start timer for draft\n        this.prePageDurationStart = new Date();\n\n        // Render editor\n        this.$el.html(Handlebars.templates.editor());\n\n        // Enable editor functionality\n        var editor = new MediumEditor('#editor-textinput', {\n            toolbar: false,\n            placeholder: false,\n        });\n\n        // Add text to editor\n        $('#editor-textinput').html('<p>Schreibe hier ...</p>');\n\n        // Select text so that user can type instantly\n        var editableElement = document.\n            querySelector('#editor-textinput').firstChild;\n        editor.selectElement(editableElement);\n\n        // Append help button to window\n        this.$el.append('<i id=\"help\" class=\"material-icons\">help</i>');\n\n        // Append modal \n        this.$el.append(Handlebars.templates['modal-help']({'instruction':\n            this.userModel.get('instruction') }));\n    },\n\n    /**\n     * Render modal of instruction\n     */\n    renderInstructionModal: function() {\n        $('#modal-help').openModal();\n    },\n\n    /**\n     * After user has written his or her text the \n     * user gets feedback on the draft. \n     * Before users can see the feedback we need \n     * to make some sanity checks whether the \n     * text is long enough.\n     */\n    analyzeText: function() {\n        var self = this;\n\n        // Change text with major concepts\n        app.regExText('#editor-textinput');\n\n        // Get text\n        var text = app.getParagraphs(this.$el.find('#editor-textinput'));\n\n        // Check if text is long enough\n        if (text.length < 1000) {\n            // Display toast\n            Materialize.toast('Ihr Text ist leider zu kurz.', 4000);\n        } else {\n            // Stop timer for draft\n            var draftElapsed = (new Date() - this.prePageDurationStart) / 1000;\n\n            // // Start timer for text revision\n            // this.postPageDurationStart = new Date();\n\n            // Set draft time and draftText to textModel\n            this.textModel.set({'pre_page_duration': draftElapsed,\n                                'pre_text': text});\n\n            // Render loading ring\n            this.$el.find('#editor-button-div').html(\n                Handlebars.templates['loading-ring']());\n\n            // Get text data\n            this.analyzer.set({'text': text});\n            this.analyzer.save(null, {\n                success: function(response) {\n                    self.saveText();\n                },\n                error: function(model, response) {\n                    console.log(response.responseText);\n                }\n            });\n        }\n    },\n\n    saveText: function() {\n        var self = this;\n\n        // Get seconds subject worked for revision\n        var revisionElapsed = (new Date() - this.postPageDurationStart) / 1000;\n\n        // Render loading ring\n        this.$el.find('#editor-button-div').html(\n            Handlebars.templates['loading-ring']());\n\n        // Get text\n        var text = app.getParagraphs(this.$el.find('#editor-textinput'));\n\n        // Save post text to textModel\n        this.textModel.set({'post_text': text,\n            'post_page_duration': 0,\n            'pre_num_sentences': this.analyzer.get('numSentences'),\n            'pre_num_clusters': this.analyzer.get('numClusters'),\n            'pre_num_coherent_sentences': this.analyzer.get('cohSentences'),\n            'pre_num_non_coherent_sentences': this.analyzer.get('cohNotSentences'),\n            'pre_num_concepts': this.analyzer.get('numConcepts'),\n            'post_num_sentences': this.analyzer.get('numSentences'),\n            'post_num_clusters': this.analyzer.get('numClusters'),\n            'post_num_coherent_sentences': this.analyzer.get('cohSentences'),\n            'post_num_non_coherent_sentences': this.analyzer.get('cohNotSentences'),\n            'post_num_concepts': this.analyzer.get('numConcepts')});\n\n        // Send data to server\n        this.textModel.save(null, {\n            success: function(response) {\n                // Reload page\n                location.reload();\n            },\n            error: function(model, response) {\n                Materialize.toast('Dein Text konnte nicht gespeichert werden.', 4000);\n            }\n        });\n    }\n});\n\nnew app.SimpleRevisionView();\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJzaW1wbGUtdGV4dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBwID0gYXBwIHx8IHt9O1xuXG5hcHAuU2ltcGxlUmV2aXNpb25WaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuICAgIFxuICAgIGVsOiAnI3RyZWF0bWVudC1zaW1wbGUtcmV2aXNpb24nLFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgICdjbGljayAjaW5zdHJ1Y3Rpb24tcmVhZCc6ICdyZW5kZXJFZGl0b3InLFxuICAgICAgICAnY2xpY2sgI2hlbHAnOiAncmVuZGVySW5zdHJ1Y3Rpb25Nb2RhbCcsXG4gICAgICAgICdjbGljayAjZWRpdG9yLWJ1dHRvbic6ICdhbmFseXplVGV4dCcsXG4gICAgICAgIC8vICdjbGljayAjc2F2ZS10ZXh0JzogJ3NhdmVUZXh0JyxcbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFZhcmlhYmxlIGRlY2xhcmF0aW9uXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5wcmVQYWdlRHVyYXRpb25TdGFydCA9IG51bGw7XG4gICAgICAgIHRoaXMucG9zdFBhZ2VEdXJhdGlvblN0YXJ0ID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIC8vIEdldCB1c2VyIGRhdGFcbiAgICAgICAgdGhpcy51c2VyTW9kZWwgPSBuZXcgYXBwLlVzZXJTcGVjaWZpY01vZGVsKCk7XG5cbiAgICAgICAgLy8gSW5pdCB0ZXh0YW5hbHl6ZXIgbW9kZWxcbiAgICAgICAgdGhpcy50ZXh0TW9kZWwgPSBuZXcgYXBwLlRleHRNb2RlbENvbXBsZXRlKCk7XG5cbiAgICAgICAgLy8gSW5pdCB0ZXh0QW5hbHl6ZXIgbW9kZWxcbiAgICAgICAgdGhpcy5hbmFseXplciA9IG5ldyBhcHAuVGV4dEFuYWx5emVyTW9kZWwoKTtcblxuICAgICAgICAvLyBGZXRjaCB1c2VyIGRhdGFcbiAgICAgICAgdGhpcy51c2VyTW9kZWwuZmV0Y2goe1xuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24obW9kZWwsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5yZW5kZXJJbnN0cnVjdGlvbigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihtb2RlbCwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKiogUmVuZGVyIGluc3RydWN0aW9uIGZvciBcbiAgICAgICogdGhpcyBwYXJ0IG9mIHRoZSBleHBlcmltZW50XG4gICAgICAqL1xuICAgIHJlbmRlckluc3RydWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gUmVuZGVyIGluc3RydWN0aW9uXG4gICAgICAgIHRoaXMuJGVsLmh0bWwoXG4gICAgICAgICAgICBIYW5kbGViYXJzLnRlbXBsYXRlcy5pbnN0cnVjdGlvbih7J2luc3RydWN0aW9uJzpcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJNb2RlbC5nZXQoJ2luc3RydWN0aW9uJyl9KSk7XG4gICAgfSxcblxuICAgIC8qKiBcbiAgICAgKiBXaGVuIHVzZXIgaGFzIHJlYWQgdGhlIGluc3RydWN0aW9uIGhlIG9yIHNoZSBpcyBhYmxlXG4gICAgICogdG8gd3JpdGUgdGhlaXIgdGV4dC5cbiAgICAgKi9cbiAgICByZW5kZXJFZGl0b3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBTdGFydCB0aW1lciBmb3IgZHJhZnRcbiAgICAgICAgdGhpcy5wcmVQYWdlRHVyYXRpb25TdGFydCA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgLy8gUmVuZGVyIGVkaXRvclxuICAgICAgICB0aGlzLiRlbC5odG1sKEhhbmRsZWJhcnMudGVtcGxhdGVzLmVkaXRvcigpKTtcblxuICAgICAgICAvLyBFbmFibGUgZWRpdG9yIGZ1bmN0aW9uYWxpdHlcbiAgICAgICAgdmFyIGVkaXRvciA9IG5ldyBNZWRpdW1FZGl0b3IoJyNlZGl0b3ItdGV4dGlucHV0Jywge1xuICAgICAgICAgICAgdG9vbGJhcjogZmFsc2UsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogZmFsc2UsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCB0ZXh0IHRvIGVkaXRvclxuICAgICAgICAkKCcjZWRpdG9yLXRleHRpbnB1dCcpLmh0bWwoJzxwPlNjaHJlaWJlIGhpZXIgLi4uPC9wPicpO1xuXG4gICAgICAgIC8vIFNlbGVjdCB0ZXh0IHNvIHRoYXQgdXNlciBjYW4gdHlwZSBpbnN0YW50bHlcbiAgICAgICAgdmFyIGVkaXRhYmxlRWxlbWVudCA9IGRvY3VtZW50LlxuICAgICAgICAgICAgcXVlcnlTZWxlY3RvcignI2VkaXRvci10ZXh0aW5wdXQnKS5maXJzdENoaWxkO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0RWxlbWVudChlZGl0YWJsZUVsZW1lbnQpO1xuXG4gICAgICAgIC8vIEFwcGVuZCBoZWxwIGJ1dHRvbiB0byB3aW5kb3dcbiAgICAgICAgdGhpcy4kZWwuYXBwZW5kKCc8aSBpZD1cImhlbHBcIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+aGVscDwvaT4nKTtcblxuICAgICAgICAvLyBBcHBlbmQgbW9kYWwgXG4gICAgICAgIHRoaXMuJGVsLmFwcGVuZChIYW5kbGViYXJzLnRlbXBsYXRlc1snbW9kYWwtaGVscCddKHsnaW5zdHJ1Y3Rpb24nOlxuICAgICAgICAgICAgdGhpcy51c2VyTW9kZWwuZ2V0KCdpbnN0cnVjdGlvbicpIH0pKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIG1vZGFsIG9mIGluc3RydWN0aW9uXG4gICAgICovXG4gICAgcmVuZGVySW5zdHJ1Y3Rpb25Nb2RhbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICQoJyNtb2RhbC1oZWxwJykub3Blbk1vZGFsKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFmdGVyIHVzZXIgaGFzIHdyaXR0ZW4gaGlzIG9yIGhlciB0ZXh0IHRoZSBcbiAgICAgKiB1c2VyIGdldHMgZmVlZGJhY2sgb24gdGhlIGRyYWZ0LiBcbiAgICAgKiBCZWZvcmUgdXNlcnMgY2FuIHNlZSB0aGUgZmVlZGJhY2sgd2UgbmVlZCBcbiAgICAgKiB0byBtYWtlIHNvbWUgc2FuaXR5IGNoZWNrcyB3aGV0aGVyIHRoZSBcbiAgICAgKiB0ZXh0IGlzIGxvbmcgZW5vdWdoLlxuICAgICAqL1xuICAgIGFuYWx5emVUZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIC8vIENoYW5nZSB0ZXh0IHdpdGggbWFqb3IgY29uY2VwdHNcbiAgICAgICAgYXBwLnJlZ0V4VGV4dCgnI2VkaXRvci10ZXh0aW5wdXQnKTtcblxuICAgICAgICAvLyBHZXQgdGV4dFxuICAgICAgICB2YXIgdGV4dCA9IGFwcC5nZXRQYXJhZ3JhcGhzKHRoaXMuJGVsLmZpbmQoJyNlZGl0b3ItdGV4dGlucHV0JykpO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRleHQgaXMgbG9uZyBlbm91Z2hcbiAgICAgICAgaWYgKHRleHQubGVuZ3RoIDwgMTAwMCkge1xuICAgICAgICAgICAgLy8gRGlzcGxheSB0b2FzdFxuICAgICAgICAgICAgTWF0ZXJpYWxpemUudG9hc3QoJ0lociBUZXh0IGlzdCBsZWlkZXIgenUga3Vyei4nLCA0MDAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFN0b3AgdGltZXIgZm9yIGRyYWZ0XG4gICAgICAgICAgICB2YXIgZHJhZnRFbGFwc2VkID0gKG5ldyBEYXRlKCkgLSB0aGlzLnByZVBhZ2VEdXJhdGlvblN0YXJ0KSAvIDEwMDA7XG5cbiAgICAgICAgICAgIC8vIC8vIFN0YXJ0IHRpbWVyIGZvciB0ZXh0IHJldmlzaW9uXG4gICAgICAgICAgICAvLyB0aGlzLnBvc3RQYWdlRHVyYXRpb25TdGFydCA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgIC8vIFNldCBkcmFmdCB0aW1lIGFuZCBkcmFmdFRleHQgdG8gdGV4dE1vZGVsXG4gICAgICAgICAgICB0aGlzLnRleHRNb2RlbC5zZXQoeydwcmVfcGFnZV9kdXJhdGlvbic6IGRyYWZ0RWxhcHNlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ByZV90ZXh0JzogdGV4dH0pO1xuXG4gICAgICAgICAgICAvLyBSZW5kZXIgbG9hZGluZyByaW5nXG4gICAgICAgICAgICB0aGlzLiRlbC5maW5kKCcjZWRpdG9yLWJ1dHRvbi1kaXYnKS5odG1sKFxuICAgICAgICAgICAgICAgIEhhbmRsZWJhcnMudGVtcGxhdGVzWydsb2FkaW5nLXJpbmcnXSgpKTtcblxuICAgICAgICAgICAgLy8gR2V0IHRleHQgZGF0YVxuICAgICAgICAgICAgdGhpcy5hbmFseXplci5zZXQoeyd0ZXh0JzogdGV4dH0pO1xuICAgICAgICAgICAgdGhpcy5hbmFseXplci5zYXZlKG51bGwsIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNhdmVUZXh0KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24obW9kZWwsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgc2F2ZVRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgLy8gR2V0IHNlY29uZHMgc3ViamVjdCB3b3JrZWQgZm9yIHJldmlzaW9uXG4gICAgICAgIHZhciByZXZpc2lvbkVsYXBzZWQgPSAobmV3IERhdGUoKSAtIHRoaXMucG9zdFBhZ2VEdXJhdGlvblN0YXJ0KSAvIDEwMDA7XG5cbiAgICAgICAgLy8gUmVuZGVyIGxvYWRpbmcgcmluZ1xuICAgICAgICB0aGlzLiRlbC5maW5kKCcjZWRpdG9yLWJ1dHRvbi1kaXYnKS5odG1sKFxuICAgICAgICAgICAgSGFuZGxlYmFycy50ZW1wbGF0ZXNbJ2xvYWRpbmctcmluZyddKCkpO1xuXG4gICAgICAgIC8vIEdldCB0ZXh0XG4gICAgICAgIHZhciB0ZXh0ID0gYXBwLmdldFBhcmFncmFwaHModGhpcy4kZWwuZmluZCgnI2VkaXRvci10ZXh0aW5wdXQnKSk7XG5cbiAgICAgICAgLy8gU2F2ZSBwb3N0IHRleHQgdG8gdGV4dE1vZGVsXG4gICAgICAgIHRoaXMudGV4dE1vZGVsLnNldCh7J3Bvc3RfdGV4dCc6IHRleHQsXG4gICAgICAgICAgICAncG9zdF9wYWdlX2R1cmF0aW9uJzogMCxcbiAgICAgICAgICAgICdwcmVfbnVtX3NlbnRlbmNlcyc6IHRoaXMuYW5hbHl6ZXIuZ2V0KCdudW1TZW50ZW5jZXMnKSxcbiAgICAgICAgICAgICdwcmVfbnVtX2NsdXN0ZXJzJzogdGhpcy5hbmFseXplci5nZXQoJ251bUNsdXN0ZXJzJyksXG4gICAgICAgICAgICAncHJlX251bV9jb2hlcmVudF9zZW50ZW5jZXMnOiB0aGlzLmFuYWx5emVyLmdldCgnY29oU2VudGVuY2VzJyksXG4gICAgICAgICAgICAncHJlX251bV9ub25fY29oZXJlbnRfc2VudGVuY2VzJzogdGhpcy5hbmFseXplci5nZXQoJ2NvaE5vdFNlbnRlbmNlcycpLFxuICAgICAgICAgICAgJ3ByZV9udW1fY29uY2VwdHMnOiB0aGlzLmFuYWx5emVyLmdldCgnbnVtQ29uY2VwdHMnKSxcbiAgICAgICAgICAgICdwb3N0X251bV9zZW50ZW5jZXMnOiB0aGlzLmFuYWx5emVyLmdldCgnbnVtU2VudGVuY2VzJyksXG4gICAgICAgICAgICAncG9zdF9udW1fY2x1c3RlcnMnOiB0aGlzLmFuYWx5emVyLmdldCgnbnVtQ2x1c3RlcnMnKSxcbiAgICAgICAgICAgICdwb3N0X251bV9jb2hlcmVudF9zZW50ZW5jZXMnOiB0aGlzLmFuYWx5emVyLmdldCgnY29oU2VudGVuY2VzJyksXG4gICAgICAgICAgICAncG9zdF9udW1fbm9uX2NvaGVyZW50X3NlbnRlbmNlcyc6IHRoaXMuYW5hbHl6ZXIuZ2V0KCdjb2hOb3RTZW50ZW5jZXMnKSxcbiAgICAgICAgICAgICdwb3N0X251bV9jb25jZXB0cyc6IHRoaXMuYW5hbHl6ZXIuZ2V0KCdudW1Db25jZXB0cycpfSk7XG5cbiAgICAgICAgLy8gU2VuZCBkYXRhIHRvIHNlcnZlclxuICAgICAgICB0aGlzLnRleHRNb2RlbC5zYXZlKG51bGwsIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVsb2FkIHBhZ2VcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24obW9kZWwsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgTWF0ZXJpYWxpemUudG9hc3QoJ0RlaW4gVGV4dCBrb25udGUgbmljaHQgZ2VzcGVpY2hlcnQgd2VyZGVuLicsIDQwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxubmV3IGFwcC5TaW1wbGVSZXZpc2lvblZpZXcoKTtcbiJdLCJmaWxlIjoic2ltcGxlLXRleHQuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==\n"],"sourceRoot":"/source/"}