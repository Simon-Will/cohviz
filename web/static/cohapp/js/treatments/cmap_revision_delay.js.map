{"version":3,"sources":["cmap_revision_delay.js"],"names":["$","TextAnalyzerModel","Backbone","Model","extend","url","url_api_textanalyzer","UserModel","url_api_user_specific","get_experiment_id","TextModelComplete","url_api_textdata","defaults","pre_text","post_text","pre_num_sentences","post_num_sentences","pre_num_clusters","post_num_clusters","pre_num_coherent_sentences","post_num_coherent_sentences","pre_num_non_coherent_sentences","post_num_non_coherent_sentences","pre_page_duration","post_page_duration","pre_num_concepts","post_num_concepts","MeasurementView","View","el","events","click #measurement_instruction-button","click #measurement_measurement-input-button","click #measurement_measurement-review-send-button","keyup #measurement_measurement-review-text textarea","initialize","self","this","toggle_text","prePageDurationStart","postPageDurationStart","instruction_template","_","template","html","input_template","loading_template","review_template","text_save_error_template","user_model","text_complete_model","analyzer","fetch","success","renderInstruction","error","console","log","$el","instruction","get","renderExperiment","Date","window_height","window","height","input_div","textarea","focus","find","reviseText","textareaText","val","set","analyzeText","elapsed","text","replace","save","response","renderSVG","model","responseText","sendData","review_div","hide","setTimeout","show","setContainerHeight","css","current_height","svgHeight","svgWidth","width","renderCmap","textarea_view","analyzePostText","clear","foundation","saveDataMeasurement","location","reload","ModalView","click #measurement_send-button","sendPostText","myview"],"mappings":"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","file":"cmap_revision_delay.js","sourcesContent":["(function($) {\n\n    // ===================== Experiment Model =================\n    var TextAnalyzerModel = Backbone.Model.extend({\n        url: url_api_textanalyzer\n    });\n\n    // ===================== User Model =======================\n    var UserModel = Backbone.Model.extend({\n        url: url_api_user_specific + get_experiment_id()\n    });\n\n    // ==================== Text Model Complete ===============\n    var TextModelComplete = Backbone.Model.extend({\n        \n        url: url_api_textdata + get_experiment_id(),\n\n        defaults: {\n            \"pre_text\": null,\n            \"post_text\": null,\n            \"pre_num_sentences\": null,\n            \"post_num_sentences\": null,\n            \"pre_num_clusters\": null,\n            \"post_num_clusters\": null,\n            \"pre_num_coherent_sentences\": null,\n            \"post_num_coherent_sentences\": null,\n            \"pre_num_non_coherent_sentences\": null,\n            \"post_num_non_coherent_sentences\": null,\n            \"pre_page_duration\": null,\n            \"post_page_duration\": null,\n            \"pre_num_concepts\": null,\n            \"post_num_concepts\": null\n        }\n    });\n\n    // ================== My View =======================\n    var MeasurementView = Backbone.View.extend({\n\n        el: $('.measurement'),\n\n        events: {\n            \"click #measurement_instruction-button\": \"renderExperiment\",\n            \"click #measurement_measurement-input-button\": \"analyzeText\",\n            // \"click #measurement_measurement-review-toggle-button\": \"toggleText\",\n            \"click #measurement_measurement-review-send-button\": \"sendData\",\n            \"keyup #measurement_measurement-review-text textarea\": \"reviseText\",\n        },\n\n        initialize: function() {\n\n            // Variable declaration\n            var self = this;\n            this.toggle_text = false;\n            this.prePageDurationStart = null;\n            this.postPageDurationStart = null;\n\n            // Initialize templates\n            this.instruction_template = _.template($('#measurement_measurement-instruction-template').html());\n            this.input_template =  _.template($('#measurement_measurement-input-text-template').html());\n            this.loading_template = _.template($('#loading-ring-template').html());\n            this.review_template = _.template($('#measurement_measurement-review-template').html());\n            this.text_save_error_template = _.template($('#measurement_error').html());\n\n            // Initialize models\n            this.user_model = new UserModel();\n            this.text_complete_model = new TextModelComplete();\n            this.analyzer = new TextAnalyzerModel();\n\n            // Fetch user data\n            this.user_model.fetch({\n                success: function() {\n                    self.renderInstruction();\n                },\n                error: function() {\n                    console.log(\"error fetching user data\");\n                }\n            });\n\n        },\n\n        renderInstruction: function() {\n            // Render input div\n            this.$el.html(this.instruction_template({'instruction': this.user_model.get('instruction')}));\n        },\n\n        renderExperiment: function() {\n\n            // Start time\n            this.prePageDurationStart = new Date();\n\n            // Render input template\n            this.$el.html(this.input_template());\n\n            // Render divs according to windows height\n            var window_height = $(window).height();\n\n            // Input div\n            var input_div = $('#measurement_measurement-input');\n\n            // Render input div\n            input_div.html(this.input_template());\n\n            // Focus textarea\n            var textarea = $('#measurement_measurement-input-textarea');\n            textarea.focus();\n\n            // Set heights for input elements\n            $('#measurement_measurement-input').find(\"textarea\").height(window_height * 0.6);\n\n        },\n\n        reviseText: function() {\n\n            // Get textarea\n            var textareaText = $('#measurement_measurement-review-text').find('textarea').val();\n\n            // Set post-text\n            this.text_complete_model.set({'post_text': textareaText});\n\n        },\n\n        analyzeText: function() {\n\n            // Set duration for pre page\n            var elapsed = (new Date() - this.prePageDurationStart) / 1000;\n            this.text_complete_model.set({'pre_page_duration': elapsed});\n\n            // Start timer for pre page\n            this.postPageDurationStart = new Date();\n\n            var self = this;\n\n            // Get text from textarea\n            var text = $('textarea#measurement_measurement-input-textarea').val();\n\n            // Remove line breaks from text\n            text = text.replace(/(\\r\\n|\\n|\\r)/gm,\" \");\n\n            // Set text to analyzer\n            this.analyzer.set({'text': text});\n\n            // Render loading ring\n            this.$el.html(this.loading_template());\n\n            // Get text data\n            this.analyzer.save(null, {\n                success: function(response) {\n                    self.renderSVG();\n                },\n                error: function(model, response) {\n                    console.log(response.responseText);\n                }\n            });\n        },\n\n        // toggleText: function() {\n\n        //     // Get dom elements\n        //     var container = $('#measurement_measurement-review-text');\n        //     var button = $('#measurement_measurement-review-toggle-button');\n\n        //     // Textarea not visible\n        //     if (!this.toggle_text) {\n\n        //         var current_height = container.height();\n\n        //         button.text(\"Bearbeitung schließen\");\n\n        //         this.toggle_text = true;\n        //         container.html(\"<textarea>\" + this.text_complete_model.get('post_text') + \"</textarea>\");\n        //         container.find('textarea').height(current_height);\n        //     // Textarea visible\n        //     } else {\n        //         button.text(\"Bearbeiten\");\n        //         container.html(\"<p>\" + this.text_complete_model.get('pre_text') + \"</p>\");\n        //         this.toggle_text = false;\n        //         this.setContainerHeight();\n        //     }\n        // },\n\n        sendData: function() {\n\n            // Set duration for review process\n            var elapsed = (new Date() - this.postPageDurationStart) / 1000;\n            this.text_complete_model.set({'post_page_duration': elapsed});\n\n        },\n\n        renderSVG: function() {\n\n            // Save pre_text data\n            this.text_complete_model.set({'pre_text': this.analyzer.get('text'),\n                'pre_num_sentences': this.analyzer.get('numSentences'),\n                'pre_num_clusters': this.analyzer.get('numClusters'),\n                'pre_num_coherent_sentences': this.analyzer.get('cohSentences'),\n                'pre_num_non_coherent_sentences': this.analyzer.get('cohNotSentences'),\n                'pre_num_concepts': this.analyzer.get('numConcepts'),\n                'post_text': this.analyzer.get('text')});\n\n            // Render review template\n            this.$el.html(this.review_template({'text': this.analyzer.get('text')}));\n\n            // Hide Review div\n            var review_div = $('#measurement_review-div');\n            review_div.hide();\n\n            // Show review div after 300 seconds\n            window.setTimeout(function() {\n                review_div.show(1000, 'swing');\n            }, 60000);\n\n            // Set height of container\n            this.setContainerHeight();\n            \n            // Change padding\n            this.$el.css('padding-top', \"10px\");\n            this.$el.css('padding-left', '15px');\n\n            // Set width and height of svg\n            var current_height = $(window).height();\n            var svgHeight = current_height * 0.95;\n            var svgWidth = $('#measurement_measurement-graph').width();\n\n            // Render SVG\n            renderCmap(this.analyzer.get('word_pairs'), this.analyzer.get('clusters'),\n                this.analyzer.get('numClusters'), '#measurement_measurement-graph',\n                svgHeight, svgWidth);\n\n        },\n\n        setContainerHeight: function() {\n\n            var textarea_view = $('#measurement_measurement-review-text').find('textarea');\n            var current_height = $(window).height();\n            textarea_view.height(current_height * 0.83);\n        },\n\n        analyzePostText: function() {\n            \n            var self = this;\n\n            // Clear analyzer model\n            this.analyzer.clear();\n\n            // Set text to analyzer\n            this.analyzer.clear();\n            this.analyzer.set({'text': this.text_complete_model.get('post_text')});\n\n            // Close modal\n            $('#measurement_modal').foundation('close');\n\n            // // Render loading ring\n            this.$el.html(this.loading_template());\n\n            // Change padding\n            this.$el.css('padding-top', \"60px\");\n\n            // Get text data\n            this.analyzer.save(null, {\n                success: function(response) {\n                    self.saveDataMeasurement();\n                },\n                error: function(model, response) {\n                    console.log(\"error\");\n                }\n            });\n        },\n\n        saveDataMeasurement: function() {\n\n            // Save post text data\n            this.text_complete_model.set({'post_num_sentences': this.analyzer.get('numSentences'),\n                'post_num_clusters': this.analyzer.get('numClusters'),\n                'post_num_coherent_sentences': this.analyzer.get('cohSentences'),\n                'post_num_non_coherent_sentences': this.analyzer.get('cohNotSentences'),\n                'post_num_concepts': this.analyzer.get('numConcepts')});\n\n            // Save data to server\n            this.text_complete_model.save(null, {\n                success: function(response) {\n                    // Reload page\n                    location.reload();\n                },\n                error: function(model, response) {\n                    this.$el.html(text_save_error_template());\n                }\n            });\n        }\n    });\n\n    // ===================== ModalView =================================\n    var ModalView = Backbone.View.extend({\n\n        el: $('#measurement_modal'),\n\n        events: {\n            \"click #measurement_send-button\": \"sendPostText\",\n        },\n\n        initialize: function() {\n        },\n\n        sendPostText: function() {\n            myview.analyzePostText();\n        }\n    });\n\n    // ================== Initialize ModalView ==========================\n    var myview = new MeasurementView();\n    var modalView = new ModalView();\n\n})($);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJjbWFwX3JldmlzaW9uX2RlbGF5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigkKSB7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT0gRXhwZXJpbWVudCBNb2RlbCA9PT09PT09PT09PT09PT09PVxuICAgIHZhciBUZXh0QW5hbHl6ZXJNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIHVybDogdXJsX2FwaV90ZXh0YW5hbHl6ZXJcbiAgICB9KTtcblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PSBVc2VyIE1vZGVsID09PT09PT09PT09PT09PT09PT09PT09XG4gICAgdmFyIFVzZXJNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCh7XG4gICAgICAgIHVybDogdXJsX2FwaV91c2VyX3NwZWNpZmljICsgZ2V0X2V4cGVyaW1lbnRfaWQoKVxuICAgIH0pO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT0gVGV4dCBNb2RlbCBDb21wbGV0ZSA9PT09PT09PT09PT09PT1cbiAgICB2YXIgVGV4dE1vZGVsQ29tcGxldGUgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoe1xuICAgICAgICBcbiAgICAgICAgdXJsOiB1cmxfYXBpX3RleHRkYXRhICsgZ2V0X2V4cGVyaW1lbnRfaWQoKSxcblxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgXCJwcmVfdGV4dFwiOiBudWxsLFxuICAgICAgICAgICAgXCJwb3N0X3RleHRcIjogbnVsbCxcbiAgICAgICAgICAgIFwicHJlX251bV9zZW50ZW5jZXNcIjogbnVsbCxcbiAgICAgICAgICAgIFwicG9zdF9udW1fc2VudGVuY2VzXCI6IG51bGwsXG4gICAgICAgICAgICBcInByZV9udW1fY2x1c3RlcnNcIjogbnVsbCxcbiAgICAgICAgICAgIFwicG9zdF9udW1fY2x1c3RlcnNcIjogbnVsbCxcbiAgICAgICAgICAgIFwicHJlX251bV9jb2hlcmVudF9zZW50ZW5jZXNcIjogbnVsbCxcbiAgICAgICAgICAgIFwicG9zdF9udW1fY29oZXJlbnRfc2VudGVuY2VzXCI6IG51bGwsXG4gICAgICAgICAgICBcInByZV9udW1fbm9uX2NvaGVyZW50X3NlbnRlbmNlc1wiOiBudWxsLFxuICAgICAgICAgICAgXCJwb3N0X251bV9ub25fY29oZXJlbnRfc2VudGVuY2VzXCI6IG51bGwsXG4gICAgICAgICAgICBcInByZV9wYWdlX2R1cmF0aW9uXCI6IG51bGwsXG4gICAgICAgICAgICBcInBvc3RfcGFnZV9kdXJhdGlvblwiOiBudWxsLFxuICAgICAgICAgICAgXCJwcmVfbnVtX2NvbmNlcHRzXCI6IG51bGwsXG4gICAgICAgICAgICBcInBvc3RfbnVtX2NvbmNlcHRzXCI6IG51bGxcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09IE15IFZpZXcgPT09PT09PT09PT09PT09PT09PT09PT1cbiAgICB2YXIgTWVhc3VyZW1lbnRWaWV3ID0gQmFja2JvbmUuVmlldy5leHRlbmQoe1xuXG4gICAgICAgIGVsOiAkKCcubWVhc3VyZW1lbnQnKSxcblxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgIFwiY2xpY2sgI21lYXN1cmVtZW50X2luc3RydWN0aW9uLWJ1dHRvblwiOiBcInJlbmRlckV4cGVyaW1lbnRcIixcbiAgICAgICAgICAgIFwiY2xpY2sgI21lYXN1cmVtZW50X21lYXN1cmVtZW50LWlucHV0LWJ1dHRvblwiOiBcImFuYWx5emVUZXh0XCIsXG4gICAgICAgICAgICAvLyBcImNsaWNrICNtZWFzdXJlbWVudF9tZWFzdXJlbWVudC1yZXZpZXctdG9nZ2xlLWJ1dHRvblwiOiBcInRvZ2dsZVRleHRcIixcbiAgICAgICAgICAgIFwiY2xpY2sgI21lYXN1cmVtZW50X21lYXN1cmVtZW50LXJldmlldy1zZW5kLWJ1dHRvblwiOiBcInNlbmREYXRhXCIsXG4gICAgICAgICAgICBcImtleXVwICNtZWFzdXJlbWVudF9tZWFzdXJlbWVudC1yZXZpZXctdGV4dCB0ZXh0YXJlYVwiOiBcInJldmlzZVRleHRcIixcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgLy8gVmFyaWFibGUgZGVjbGFyYXRpb25cbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlX3RleHQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucHJlUGFnZUR1cmF0aW9uU3RhcnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wb3N0UGFnZUR1cmF0aW9uU3RhcnQgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHRlbXBsYXRlc1xuICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbl90ZW1wbGF0ZSA9IF8udGVtcGxhdGUoJCgnI21lYXN1cmVtZW50X21lYXN1cmVtZW50LWluc3RydWN0aW9uLXRlbXBsYXRlJykuaHRtbCgpKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRfdGVtcGxhdGUgPSAgXy50ZW1wbGF0ZSgkKCcjbWVhc3VyZW1lbnRfbWVhc3VyZW1lbnQtaW5wdXQtdGV4dC10ZW1wbGF0ZScpLmh0bWwoKSk7XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdfdGVtcGxhdGUgPSBfLnRlbXBsYXRlKCQoJyNsb2FkaW5nLXJpbmctdGVtcGxhdGUnKS5odG1sKCkpO1xuICAgICAgICAgICAgdGhpcy5yZXZpZXdfdGVtcGxhdGUgPSBfLnRlbXBsYXRlKCQoJyNtZWFzdXJlbWVudF9tZWFzdXJlbWVudC1yZXZpZXctdGVtcGxhdGUnKS5odG1sKCkpO1xuICAgICAgICAgICAgdGhpcy50ZXh0X3NhdmVfZXJyb3JfdGVtcGxhdGUgPSBfLnRlbXBsYXRlKCQoJyNtZWFzdXJlbWVudF9lcnJvcicpLmh0bWwoKSk7XG5cbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgbW9kZWxzXG4gICAgICAgICAgICB0aGlzLnVzZXJfbW9kZWwgPSBuZXcgVXNlck1vZGVsKCk7XG4gICAgICAgICAgICB0aGlzLnRleHRfY29tcGxldGVfbW9kZWwgPSBuZXcgVGV4dE1vZGVsQ29tcGxldGUoKTtcbiAgICAgICAgICAgIHRoaXMuYW5hbHl6ZXIgPSBuZXcgVGV4dEFuYWx5emVyTW9kZWwoKTtcblxuICAgICAgICAgICAgLy8gRmV0Y2ggdXNlciBkYXRhXG4gICAgICAgICAgICB0aGlzLnVzZXJfbW9kZWwuZmV0Y2goe1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbmRlckluc3RydWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3IgZmV0Y2hpbmcgdXNlciBkYXRhXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVuZGVySW5zdHJ1Y3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gUmVuZGVyIGlucHV0IGRpdlxuICAgICAgICAgICAgdGhpcy4kZWwuaHRtbCh0aGlzLmluc3RydWN0aW9uX3RlbXBsYXRlKHsnaW5zdHJ1Y3Rpb24nOiB0aGlzLnVzZXJfbW9kZWwuZ2V0KCdpbnN0cnVjdGlvbicpfSkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbmRlckV4cGVyaW1lbnQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAvLyBTdGFydCB0aW1lXG4gICAgICAgICAgICB0aGlzLnByZVBhZ2VEdXJhdGlvblN0YXJ0ID0gbmV3IERhdGUoKTtcblxuICAgICAgICAgICAgLy8gUmVuZGVyIGlucHV0IHRlbXBsYXRlXG4gICAgICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMuaW5wdXRfdGVtcGxhdGUoKSk7XG5cbiAgICAgICAgICAgIC8vIFJlbmRlciBkaXZzIGFjY29yZGluZyB0byB3aW5kb3dzIGhlaWdodFxuICAgICAgICAgICAgdmFyIHdpbmRvd19oZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgIC8vIElucHV0IGRpdlxuICAgICAgICAgICAgdmFyIGlucHV0X2RpdiA9ICQoJyNtZWFzdXJlbWVudF9tZWFzdXJlbWVudC1pbnB1dCcpO1xuXG4gICAgICAgICAgICAvLyBSZW5kZXIgaW5wdXQgZGl2XG4gICAgICAgICAgICBpbnB1dF9kaXYuaHRtbCh0aGlzLmlucHV0X3RlbXBsYXRlKCkpO1xuXG4gICAgICAgICAgICAvLyBGb2N1cyB0ZXh0YXJlYVxuICAgICAgICAgICAgdmFyIHRleHRhcmVhID0gJCgnI21lYXN1cmVtZW50X21lYXN1cmVtZW50LWlucHV0LXRleHRhcmVhJyk7XG4gICAgICAgICAgICB0ZXh0YXJlYS5mb2N1cygpO1xuXG4gICAgICAgICAgICAvLyBTZXQgaGVpZ2h0cyBmb3IgaW5wdXQgZWxlbWVudHNcbiAgICAgICAgICAgICQoJyNtZWFzdXJlbWVudF9tZWFzdXJlbWVudC1pbnB1dCcpLmZpbmQoXCJ0ZXh0YXJlYVwiKS5oZWlnaHQod2luZG93X2hlaWdodCAqIDAuNik7XG5cbiAgICAgICAgfSxcblxuICAgICAgICByZXZpc2VUZXh0OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgLy8gR2V0IHRleHRhcmVhXG4gICAgICAgICAgICB2YXIgdGV4dGFyZWFUZXh0ID0gJCgnI21lYXN1cmVtZW50X21lYXN1cmVtZW50LXJldmlldy10ZXh0JykuZmluZCgndGV4dGFyZWEnKS52YWwoKTtcblxuICAgICAgICAgICAgLy8gU2V0IHBvc3QtdGV4dFxuICAgICAgICAgICAgdGhpcy50ZXh0X2NvbXBsZXRlX21vZGVsLnNldCh7J3Bvc3RfdGV4dCc6IHRleHRhcmVhVGV4dH0pO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgYW5hbHl6ZVRleHQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAvLyBTZXQgZHVyYXRpb24gZm9yIHByZSBwYWdlXG4gICAgICAgICAgICB2YXIgZWxhcHNlZCA9IChuZXcgRGF0ZSgpIC0gdGhpcy5wcmVQYWdlRHVyYXRpb25TdGFydCkgLyAxMDAwO1xuICAgICAgICAgICAgdGhpcy50ZXh0X2NvbXBsZXRlX21vZGVsLnNldCh7J3ByZV9wYWdlX2R1cmF0aW9uJzogZWxhcHNlZH0pO1xuXG4gICAgICAgICAgICAvLyBTdGFydCB0aW1lciBmb3IgcHJlIHBhZ2VcbiAgICAgICAgICAgIHRoaXMucG9zdFBhZ2VEdXJhdGlvblN0YXJ0ID0gbmV3IERhdGUoKTtcblxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBHZXQgdGV4dCBmcm9tIHRleHRhcmVhXG4gICAgICAgICAgICB2YXIgdGV4dCA9ICQoJ3RleHRhcmVhI21lYXN1cmVtZW50X21lYXN1cmVtZW50LWlucHV0LXRleHRhcmVhJykudmFsKCk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBsaW5lIGJyZWFrcyBmcm9tIHRleHRcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZ20sXCIgXCIpO1xuXG4gICAgICAgICAgICAvLyBTZXQgdGV4dCB0byBhbmFseXplclxuICAgICAgICAgICAgdGhpcy5hbmFseXplci5zZXQoeyd0ZXh0JzogdGV4dH0pO1xuXG4gICAgICAgICAgICAvLyBSZW5kZXIgbG9hZGluZyByaW5nXG4gICAgICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMubG9hZGluZ190ZW1wbGF0ZSgpKTtcblxuICAgICAgICAgICAgLy8gR2V0IHRleHQgZGF0YVxuICAgICAgICAgICAgdGhpcy5hbmFseXplci5zYXZlKG51bGwsIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbmRlclNWRygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKG1vZGVsLCByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIHRvZ2dsZVRleHQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIC8vICAgICAvLyBHZXQgZG9tIGVsZW1lbnRzXG4gICAgICAgIC8vICAgICB2YXIgY29udGFpbmVyID0gJCgnI21lYXN1cmVtZW50X21lYXN1cmVtZW50LXJldmlldy10ZXh0Jyk7XG4gICAgICAgIC8vICAgICB2YXIgYnV0dG9uID0gJCgnI21lYXN1cmVtZW50X21lYXN1cmVtZW50LXJldmlldy10b2dnbGUtYnV0dG9uJyk7XG5cbiAgICAgICAgLy8gICAgIC8vIFRleHRhcmVhIG5vdCB2aXNpYmxlXG4gICAgICAgIC8vICAgICBpZiAoIXRoaXMudG9nZ2xlX3RleHQpIHtcblxuICAgICAgICAvLyAgICAgICAgIHZhciBjdXJyZW50X2hlaWdodCA9IGNvbnRhaW5lci5oZWlnaHQoKTtcblxuICAgICAgICAvLyAgICAgICAgIGJ1dHRvbi50ZXh0KFwiQmVhcmJlaXR1bmcgc2NobGllw59lblwiKTtcblxuICAgICAgICAvLyAgICAgICAgIHRoaXMudG9nZ2xlX3RleHQgPSB0cnVlO1xuICAgICAgICAvLyAgICAgICAgIGNvbnRhaW5lci5odG1sKFwiPHRleHRhcmVhPlwiICsgdGhpcy50ZXh0X2NvbXBsZXRlX21vZGVsLmdldCgncG9zdF90ZXh0JykgKyBcIjwvdGV4dGFyZWE+XCIpO1xuICAgICAgICAvLyAgICAgICAgIGNvbnRhaW5lci5maW5kKCd0ZXh0YXJlYScpLmhlaWdodChjdXJyZW50X2hlaWdodCk7XG4gICAgICAgIC8vICAgICAvLyBUZXh0YXJlYSB2aXNpYmxlXG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgICAgIGJ1dHRvbi50ZXh0KFwiQmVhcmJlaXRlblwiKTtcbiAgICAgICAgLy8gICAgICAgICBjb250YWluZXIuaHRtbChcIjxwPlwiICsgdGhpcy50ZXh0X2NvbXBsZXRlX21vZGVsLmdldCgncHJlX3RleHQnKSArIFwiPC9wPlwiKTtcbiAgICAgICAgLy8gICAgICAgICB0aGlzLnRvZ2dsZV90ZXh0ID0gZmFsc2U7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy5zZXRDb250YWluZXJIZWlnaHQoKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfSxcblxuICAgICAgICBzZW5kRGF0YTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIC8vIFNldCBkdXJhdGlvbiBmb3IgcmV2aWV3IHByb2Nlc3NcbiAgICAgICAgICAgIHZhciBlbGFwc2VkID0gKG5ldyBEYXRlKCkgLSB0aGlzLnBvc3RQYWdlRHVyYXRpb25TdGFydCkgLyAxMDAwO1xuICAgICAgICAgICAgdGhpcy50ZXh0X2NvbXBsZXRlX21vZGVsLnNldCh7J3Bvc3RfcGFnZV9kdXJhdGlvbic6IGVsYXBzZWR9KTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHJlbmRlclNWRzogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIC8vIFNhdmUgcHJlX3RleHQgZGF0YVxuICAgICAgICAgICAgdGhpcy50ZXh0X2NvbXBsZXRlX21vZGVsLnNldCh7J3ByZV90ZXh0JzogdGhpcy5hbmFseXplci5nZXQoJ3RleHQnKSxcbiAgICAgICAgICAgICAgICAncHJlX251bV9zZW50ZW5jZXMnOiB0aGlzLmFuYWx5emVyLmdldCgnbnVtU2VudGVuY2VzJyksXG4gICAgICAgICAgICAgICAgJ3ByZV9udW1fY2x1c3RlcnMnOiB0aGlzLmFuYWx5emVyLmdldCgnbnVtQ2x1c3RlcnMnKSxcbiAgICAgICAgICAgICAgICAncHJlX251bV9jb2hlcmVudF9zZW50ZW5jZXMnOiB0aGlzLmFuYWx5emVyLmdldCgnY29oU2VudGVuY2VzJyksXG4gICAgICAgICAgICAgICAgJ3ByZV9udW1fbm9uX2NvaGVyZW50X3NlbnRlbmNlcyc6IHRoaXMuYW5hbHl6ZXIuZ2V0KCdjb2hOb3RTZW50ZW5jZXMnKSxcbiAgICAgICAgICAgICAgICAncHJlX251bV9jb25jZXB0cyc6IHRoaXMuYW5hbHl6ZXIuZ2V0KCdudW1Db25jZXB0cycpLFxuICAgICAgICAgICAgICAgICdwb3N0X3RleHQnOiB0aGlzLmFuYWx5emVyLmdldCgndGV4dCcpfSk7XG5cbiAgICAgICAgICAgIC8vIFJlbmRlciByZXZpZXcgdGVtcGxhdGVcbiAgICAgICAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy5yZXZpZXdfdGVtcGxhdGUoeyd0ZXh0JzogdGhpcy5hbmFseXplci5nZXQoJ3RleHQnKX0pKTtcblxuICAgICAgICAgICAgLy8gSGlkZSBSZXZpZXcgZGl2XG4gICAgICAgICAgICB2YXIgcmV2aWV3X2RpdiA9ICQoJyNtZWFzdXJlbWVudF9yZXZpZXctZGl2Jyk7XG4gICAgICAgICAgICByZXZpZXdfZGl2LmhpZGUoKTtcblxuICAgICAgICAgICAgLy8gU2hvdyByZXZpZXcgZGl2IGFmdGVyIDMwMCBzZWNvbmRzXG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXZpZXdfZGl2LnNob3coMTAwMCwgJ3N3aW5nJyk7XG4gICAgICAgICAgICB9LCA2MDAwMCk7XG5cbiAgICAgICAgICAgIC8vIFNldCBoZWlnaHQgb2YgY29udGFpbmVyXG4gICAgICAgICAgICB0aGlzLnNldENvbnRhaW5lckhlaWdodCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGFuZ2UgcGFkZGluZ1xuICAgICAgICAgICAgdGhpcy4kZWwuY3NzKCdwYWRkaW5nLXRvcCcsIFwiMTBweFwiKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLmNzcygncGFkZGluZy1sZWZ0JywgJzE1cHgnKTtcblxuICAgICAgICAgICAgLy8gU2V0IHdpZHRoIGFuZCBoZWlnaHQgb2Ygc3ZnXG4gICAgICAgICAgICB2YXIgY3VycmVudF9oZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG4gICAgICAgICAgICB2YXIgc3ZnSGVpZ2h0ID0gY3VycmVudF9oZWlnaHQgKiAwLjk1O1xuICAgICAgICAgICAgdmFyIHN2Z1dpZHRoID0gJCgnI21lYXN1cmVtZW50X21lYXN1cmVtZW50LWdyYXBoJykud2lkdGgoKTtcblxuICAgICAgICAgICAgLy8gUmVuZGVyIFNWR1xuICAgICAgICAgICAgcmVuZGVyQ21hcCh0aGlzLmFuYWx5emVyLmdldCgnd29yZF9wYWlycycpLCB0aGlzLmFuYWx5emVyLmdldCgnY2x1c3RlcnMnKSxcbiAgICAgICAgICAgICAgICB0aGlzLmFuYWx5emVyLmdldCgnbnVtQ2x1c3RlcnMnKSwgJyNtZWFzdXJlbWVudF9tZWFzdXJlbWVudC1ncmFwaCcsXG4gICAgICAgICAgICAgICAgc3ZnSGVpZ2h0LCBzdmdXaWR0aCk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBzZXRDb250YWluZXJIZWlnaHQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgdGV4dGFyZWFfdmlldyA9ICQoJyNtZWFzdXJlbWVudF9tZWFzdXJlbWVudC1yZXZpZXctdGV4dCcpLmZpbmQoJ3RleHRhcmVhJyk7XG4gICAgICAgICAgICB2YXIgY3VycmVudF9oZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XG4gICAgICAgICAgICB0ZXh0YXJlYV92aWV3LmhlaWdodChjdXJyZW50X2hlaWdodCAqIDAuODMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFuYWx5emVQb3N0VGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgLy8gQ2xlYXIgYW5hbHl6ZXIgbW9kZWxcbiAgICAgICAgICAgIHRoaXMuYW5hbHl6ZXIuY2xlYXIoKTtcblxuICAgICAgICAgICAgLy8gU2V0IHRleHQgdG8gYW5hbHl6ZXJcbiAgICAgICAgICAgIHRoaXMuYW5hbHl6ZXIuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMuYW5hbHl6ZXIuc2V0KHsndGV4dCc6IHRoaXMudGV4dF9jb21wbGV0ZV9tb2RlbC5nZXQoJ3Bvc3RfdGV4dCcpfSk7XG5cbiAgICAgICAgICAgIC8vIENsb3NlIG1vZGFsXG4gICAgICAgICAgICAkKCcjbWVhc3VyZW1lbnRfbW9kYWwnKS5mb3VuZGF0aW9uKCdjbG9zZScpO1xuXG4gICAgICAgICAgICAvLyAvLyBSZW5kZXIgbG9hZGluZyByaW5nXG4gICAgICAgICAgICB0aGlzLiRlbC5odG1sKHRoaXMubG9hZGluZ190ZW1wbGF0ZSgpKTtcblxuICAgICAgICAgICAgLy8gQ2hhbmdlIHBhZGRpbmdcbiAgICAgICAgICAgIHRoaXMuJGVsLmNzcygncGFkZGluZy10b3AnLCBcIjYwcHhcIik7XG5cbiAgICAgICAgICAgIC8vIEdldCB0ZXh0IGRhdGFcbiAgICAgICAgICAgIHRoaXMuYW5hbHl6ZXIuc2F2ZShudWxsLCB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zYXZlRGF0YU1lYXN1cmVtZW50KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24obW9kZWwsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2F2ZURhdGFNZWFzdXJlbWVudDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIC8vIFNhdmUgcG9zdCB0ZXh0IGRhdGFcbiAgICAgICAgICAgIHRoaXMudGV4dF9jb21wbGV0ZV9tb2RlbC5zZXQoeydwb3N0X251bV9zZW50ZW5jZXMnOiB0aGlzLmFuYWx5emVyLmdldCgnbnVtU2VudGVuY2VzJyksXG4gICAgICAgICAgICAgICAgJ3Bvc3RfbnVtX2NsdXN0ZXJzJzogdGhpcy5hbmFseXplci5nZXQoJ251bUNsdXN0ZXJzJyksXG4gICAgICAgICAgICAgICAgJ3Bvc3RfbnVtX2NvaGVyZW50X3NlbnRlbmNlcyc6IHRoaXMuYW5hbHl6ZXIuZ2V0KCdjb2hTZW50ZW5jZXMnKSxcbiAgICAgICAgICAgICAgICAncG9zdF9udW1fbm9uX2NvaGVyZW50X3NlbnRlbmNlcyc6IHRoaXMuYW5hbHl6ZXIuZ2V0KCdjb2hOb3RTZW50ZW5jZXMnKSxcbiAgICAgICAgICAgICAgICAncG9zdF9udW1fY29uY2VwdHMnOiB0aGlzLmFuYWx5emVyLmdldCgnbnVtQ29uY2VwdHMnKX0pO1xuXG4gICAgICAgICAgICAvLyBTYXZlIGRhdGEgdG8gc2VydmVyXG4gICAgICAgICAgICB0aGlzLnRleHRfY29tcGxldGVfbW9kZWwuc2F2ZShudWxsLCB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVsb2FkIHBhZ2VcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24obW9kZWwsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGVsLmh0bWwodGV4dF9zYXZlX2Vycm9yX3RlbXBsYXRlKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT0gTW9kYWxWaWV3ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIHZhciBNb2RhbFZpZXcgPSBCYWNrYm9uZS5WaWV3LmV4dGVuZCh7XG5cbiAgICAgICAgZWw6ICQoJyNtZWFzdXJlbWVudF9tb2RhbCcpLFxuXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgICAgXCJjbGljayAjbWVhc3VyZW1lbnRfc2VuZC1idXR0b25cIjogXCJzZW5kUG9zdFRleHRcIixcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgfSxcblxuICAgICAgICBzZW5kUG9zdFRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbXl2aWV3LmFuYWx5emVQb3N0VGV4dCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT0gSW5pdGlhbGl6ZSBNb2RhbFZpZXcgPT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICB2YXIgbXl2aWV3ID0gbmV3IE1lYXN1cmVtZW50VmlldygpO1xuICAgIHZhciBtb2RhbFZpZXcgPSBuZXcgTW9kYWxWaWV3KCk7XG5cbn0pKCQpOyJdLCJmaWxlIjoiY21hcF9yZXZpc2lvbl9kZWxheS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9\n"],"sourceRoot":"/source/"}